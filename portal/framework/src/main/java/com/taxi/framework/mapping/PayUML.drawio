<mxfile host="app.diagrams.net">
  <diagram name="Payment Integration Module">
    <mxGraphModel dx="727" dy="500" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1"
    page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- AbstractPaymentController -->
        <mxCell id="AbstractPaymentController" value="&lt;&lt;abstract&gt;&gt;&#xa;AbstractPaymentController&lt;
        T extends PaymentRequestDTO, R extends PaymentResponseDTO&gt;" style="rounded=1;whiteSpace=wrap;html=1;"
         vertex="1" parent="1">
          <mxGeometry x="20" y="20" width="260" height="150" as="geometry" />
        </mxCell>
        <mxCell id="initiatePayment" value="+ initiatePayment(request: T): ResponseEntity&lt;R&gt;" style="text;
        html=1;whiteSpace=wrap;" vertex="1" parent="AbstractPaymentController">
          <mxGeometry x="10" y="80" width="240" height="40" as="geometry" />
        </mxCell>
        <mxCell id="handleCallback" value="+ handleCallback(paymentResponseDTO: PaymentResponseDTO): ResponseEntity&lt;
        String&gt;" style="text;html=1;whiteSpace=wrap;" vertex="1" parent="AbstractPaymentController">
          <mxGeometry x="10" y="120" width="240" height="40" as="geometry" />
        </mxCell>

        <!-- AbstractPaymentService -->
        <mxCell id="AbstractPaymentService" value="&lt;&lt;abstract&gt;&gt;&#xa;AbstractPaymentService&lt;T extends PaymentRequestDTO, R extends PaymentResponseDTO&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="320" y="20" width="260" height="180" as="geometry" />
        </mxCell>
        <mxCell id="initiatePaymentService" value="+ initiatePayment(request: T): R" style="text;html=1;whiteSpace=wrap;" vertex="1" parent="AbstractPaymentService">
          <mxGeometry x="10" y="80" width="240" height="40" as="geometry" />
        </mxCell>
        <mxCell id="getResponseType" value="# getResponseType(): Class&lt;R&gt;" style="text;html=1;whiteSpace=wrap;" vertex="1" parent="AbstractPaymentService">
          <mxGeometry x="10" y="120" width="240" height="40" as="geometry" />
        </mxCell>

        <!-- AbstractPaymentVerificationService -->
        <mxCell id="AbstractPaymentVerificationService" value="&lt;&lt;abstract&gt;&gt;&#xa;AbstractPaymentVerificationService&lt;T, R&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="620" y="20" width="260" height="100" as="geometry" />
        </mxCell>
        <mxCell id="verifyPayment" value="+ verifyPayment(verificationRequest: T): R" style="text;html=1;whiteSpace=wrap;" vertex="1" parent="AbstractPaymentVerificationService">
          <mxGeometry x="10" y="80" width="240" height="40" as="geometry" />
        </mxCell>

        <!-- PaymentRequestDTO -->
        <mxCell id="PaymentRequestDTO" value="PaymentRequestDTO" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="20" y="200" width="260" height="150" as="geometry" />
        </mxCell>
        <mxCell id="fieldsRequestDTO" value="+ amount: String&#xa;+ currency: String&#xa;+ paymentMethod: String&#xa;+ mobile: String&#xa;+ email: String" style="text;html=1;whiteSpace=wrap;" vertex="1" parent="PaymentRequestDTO">
          <mxGeometry x="10" y="20" width="240" height="100" as="geometry" />
        </mxCell>

        <!-- PaymentResponseDTO -->
        <mxCell id="PaymentResponseDTO" value="PaymentResponseDTO" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="320" y="220" width="260" height="120" as="geometry" />
        </mxCell>
        <mxCell id="fieldsResponseDTO" value="+ transactionId: String&#xa;+ status: String" style="text;html=1;whiteSpace=wrap;" vertex="1" parent="PaymentResponseDTO">
          <mxGeometry x="10" y="20" width="240" height="60" as="geometry" />
        </mxCell>

        <!-- PaymentController -->
        <mxCell id="PaymentController" value="PaymentController" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="620" y="220" width="260" height="100" as="geometry" />
        </mxCell>
        <mxCell id="initiatePaymentController" value="+ initiatePayment(request: PaymentRequestDTO): ResponseEntity&lt;
        PaymentResponseDTO&gt;" style="text;html=1;whiteSpace=wrap;" vertex="1" parent="PaymentController">
          <mxGeometry x="10" y="40" width="240" height="40" as="geometry" />
        </mxCell>

        <!-- ZarinPalPaymentService -->
        <mxCell id="ZarinPalPaymentService" value="ZarinPalPaymentService" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="20" y="400" width="260" height="150" as="geometry" />
        </mxCell>
        <mxCell id="sendPaymentRequest" value="+ sendPaymentRequest(paymentRequestDTO: PaymentRequestDTO): String"
         style="text;html=1;whiteSpace=wrap;" vertex="1" parent="ZarinPalPaymentService">
          <mxGeometry x="10" y="20" width="240" height="60" as="geometry" />
        </mxCell>

        <!-- ZarinPalPaymentVerificationService -->
        <mxCell id="ZarinPalPaymentVerificationService" value="ZarinPalPaymentVerificationService" style="rounded=1;
        whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="320" y="400" width="260" height="100" as="geometry" />
        </mxCell>
        <mxCell id="verifyPaymentService" value="+ verifyPayment(verificationRequest: PaymentRequestDTO): String" style="text;
        html=1;whiteSpace=wrap;" vertex="1" parent="ZarinPalPaymentVerificationService">
          <mxGeometry x="10" y="40" width="240" height="40" as="geometry" />
        </mxCell>

        <!-- IpTestController -->
        <mxCell id="IpTestController" value="IpTestController" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="620" y="400" width="260" height="120" as="geometry" />
        </mxCell>
        <mxCell id="testIp" value="+ testIp(): ResponseEntity&lt;String&gt;" style="text;html=1;whiteSpace=wrap;" vertex="1" parent="IpTestController">
          <mxGeometry x="10" y="40" width="240" height="40" as="geometry" />
        </mxCell>

        <!-- Associations -->
        <mxCell id="initiatePaymentServiceLink" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;"
         edge="1" parent="1" source="AbstractPaymentService" target="ZarinPalPaymentService">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="verifyPaymentLink" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;"
         edge="1" parent="1" source="AbstractPaymentVerificationService" target="ZarinPalPaymentVerificationService">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="initiatePaymentControllerLink" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;
        html=1;" edge="1" parent="1" source="AbstractPaymentController" target="PaymentController">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="fieldsRequestDTOLink" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;"
         edge="1" parent="1" source="PaymentRequestDTO" target="PaymentController">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="fieldsResponseDTOLink" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;"
         edge="1" parent="1" source="PaymentResponseDTO" target="PaymentController">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
